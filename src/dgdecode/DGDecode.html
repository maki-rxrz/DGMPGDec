<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<!-- DGDecode User Manual v2.0.4 -->
<!-- Created by Cyberia (04/28/05) -->
<html>
<head>
	<title>DGDecode - User Manual</title>
	<meta HTTP-EQUIV="Content-Type" LANG="en-us" CONTENT="text/html; charset=iso-8859-1">
	<style type="text/css">
		body	      { font-family: verdana, arial, helvetica, sans-serif;
				font-size: 12px;
				color: #000000;
				background-color: #B6C0CA;
				text-align: left;
				line-height: 150%;
				width: 98.5%;
				padding: 0px;
				margin: 8px 0px 8px 8px; }
	
		ul	      { padding: 0px;
				margin: 0px 62px 0px 60px; }

		table	      { width: 100%;
				cellpadding: 0;
				cellspacing: 0; }
	
		h1	      { font-size: 26px;
				text-align: center;
				line-height: 150%;
				margin: 12px 0px 12px 0px; }
	
		h2	      { font-size: 22px;
				background-color: #90A0C0;
				line-height: 150%;
				padding-left: 8px;
				margin: 12px 0px 12px 0px;
				border-style: solid;
				border-color: #8080D0;
				border-width: 1px; }
	
		h3	      { font-size: 18px;
				line-height: 150%;
				padding-left: 8px;
				margin: 12px 0px 12px 50px;
				border-style: solid;
				border-color: #8080D0;
				border-width: 1px; }
	
		pre	      { font-family: "Courier New", Courier, monospace;
				font-size: 15px;
				background-color: #D0D0C0;
				padding: 12px;
				margin: 10px 0px 10px 0px;
				border-style: solid;
				border-color: #908030;
				border-width: 1px; }
	
		code	      { font-family: "Courier New", Courier, monospace;
				font-size: 15px;
				color: #990033;
				text-align: left;
				letter-spacing: 1px; }
	
		a	      { font-size: 12px;
				color: #404A58;
				text-decoration: none; }
	
		a:visited     { color: #404A58; }
	
		a:hover	      { background-color: #EEE; }
	
		#justify      { text-align: justify; }
	
		#quote	      { font-style: italic;
				margin: 0px 50px 0px 50px; }
	
		#precode      { color: #990033;
				background-color: #B6C0CA;
				padding: 0px 0px 0px 12px;
				margin: 0px;
				border-style: none; }
	</style>
</head>

<body>
<a name="Top"></a>

<br>
<hr>
<h1>DGDecode v1.3.0</h1>
<hr>

<ul>
	<br>
	<br>
	<a href="#WhatIsDGDecode">What is DGDecode?</a><br>
	<br>
	<a href="#Syntax">Filter Syntax</a><br>
	&nbsp&nbsp&nbsp<a href="#MPEG2Source">MPEG2Source()</a><br>
	&nbsp&nbsp&nbsp<a href="#LumaFilter">LumaFilter()</a><br>
	&nbsp&nbsp&nbsp<a href="#YV12toYUY2">YV12toYUY2()</a><br>
	&nbsp&nbsp&nbsp<a href="#YV12toRGB24">YV12toRGB24()</a><br>
	&nbsp&nbsp&nbsp<a href="#BlindPP">BlindPP()</a><br>
	&nbsp&nbsp&nbsp<a href="#DeBlock">Deblock()</a><br>
	<br>
	<a href="#Examples">Usage Examples</a><br>
	&nbsp&nbsp&nbsp<a href="#LoadPlugin_Example">LoadPlugin() Example</a><br>
	&nbsp&nbsp&nbsp<a href="#MPEG2Source_Examples">MPEG2Source() Examples</a><br>
	&nbsp&nbsp&nbsp<a href="#LumaFilter_Examples">LumaFilter() Examples</a><br>
	&nbsp&nbsp&nbsp<a href="#YV12toYUY2_Examples">YV12toYUY2() Examples</a><br>
	&nbsp&nbsp&nbsp<a href="#YV12toRGB24_Examples">YV12toRGB24() Examples</a><br>
	&nbsp&nbsp&nbsp<a href="#BlindPP_Examples">BlindPP() Examples</a><br>
	&nbsp&nbsp&nbsp<a href="#DeBlock_Examples">Deblock() Examples</a><br>
	<br>
	<a href="#AppendixA">Appendix A: BlindPP() Notes</a><br>
	<a href="#AppendixB">Appendix B: TVscale Notes</a><br>
	<a href="#AppendixC">Appendix C: iDCT Algorithm Notes</a><br>
	<a href="#AppendixD">Appendix D: SIMD Instructions</a><br>
	<br>
	<a href="#History">Version History</a><br>
	<br>
	<a href="#Credits">Credits</a><br>
	<br>
	<a href="#License">License</a><br>
	<br>
</ul>

<a name="WhatIsDGDecode"></a><br>
<h2>
	<table><tr>
		<td width="75%">What is DGDecode?</td>
		<td width="24%" align=right valign=top><a href="#Top">Table of Contents</a></td>
		<td width="1%"></td></tr>
	</table>
</h2>

<ul id="justify">
	<p>DGDecode, part of the DGMPGDec package, is an MPEG-2 decoder plug-in designed for <a href="http://www.avisynth.org/">
	AviSynth</a> 2.5 and above. It's able to decode any MPEG-2 streams readable by DGIndex. Additional features include: YV12,
	I420, YUY2, and RGB24 colorspace output, optimized iDCTs, post-process deblocking and deringing, luminosity filtering, and
	more!</p>
	<p>DGDecode is based on MPEG2Dec3 v1.10, which itself is based on MPEG2Dec2 from the SourceForge project "SAVE-OE" (Smart
	Audio & Video Encoder).</p>
	<p><u>Important Note:</u> This filter was renamed to DGDecode to avoid naming confusions and to clearly link it with
	neuron2's version of DVD2AVI called DGIndex. Neuron2 wants to take great pains to acknowledge the origins of DGDecode as
	described by MarcFD in the text below! Yes, neuron2 has continued the evolution and made some fixes, but he stands on the
	shoulders of the giants documented below in the Credits section.</p>
	<p>You can get the latest binaries and source code of DGMPGDec at <a href="http://neuron2.net/dgmpgdec/dgmpgdec.html">
	http://neuron2.net/dgmpgdec/dgmpgdec.html</a></p>
	<p>This is free software distributed under the terms of the GNU GPL v2 license.  You must agree to the terms of the license
	before using the plug-in or its source code. Please see the <a href="#License">License</a> section for details.</p>
</ul>

<a name="Syntax"></a><br>
<h2>
	<table><tr>
		<td width="75%">Filter Syntax:</td>
		<td width="24%" align=right valign=top><a href="#Top">Table of Contents</a></td>
		<td width="1%"></td></tr>
	</table>
</h2>

	<a name="MPEG2Source"></a><br>
	<h3>
		<table><tr>
			<td width="75%">MPEG2Source() :</td>
			<td width="24%" align=right valign=top><a href="#Top">Table of Contents</a></td>
			<td width="1%"></td></tr>
		</table>
	</h3>

	<ul><ul>
		<code>
			MPEG2Source(str "d2v", int "idct", int "cpu", bool "iPP", int "moderate_h", int "moderate_v", str "cpu2",
			bool "upConv", bool "i420", int "info", bool "showQ", bool "fastMC")
		</code>
		<br>
		<br>

		<b>d2v</b> : "[PATH\]project.d2v"<br>
		<ul>
			<i>DGIndex Project File.<br>
			Required parameter!<br>
			<u>Note:</u> PATH can be ignored if "project.d2v" is in the same directory as your AviSynth (*.avs)
			script.</i><br>
		</ul>
		<br>

		<b>idct</b> : 0 to 7  (default: 0)<br>
		<ul>
			<i>iDCT Algorithm.<br>
			For more infomation on iDCTs please see <a href="#AppendixC">Appendix C</a>.<br>
			Please see <a href="#AppendixD">Appendix D</a> for supported CPUs.</i><br>
			- 0 : Use value specified by DGIndex (iDCTs 6 & 7 unavailable in DGIndex)<br>
			- 1 : 32-bit MMX<br>
			- 2 : 32-bit SSE/MMX<br>
			- 3 : 64-bit Floating Point<br>
			- 4 : 64-bit IEEE-1180 Reference<br>
			- 5 : 32-bit SSE2/MMX<br>
			- 6 : 32-bit SSE/MMX (Skal)<br>
			- 7 : 32-bit Simple MMX (XviD)<br>
		</ul>
		<br>

		<b>cpu</b> : 0 to 6  (default: 0)<br>
		<ul>
			<i>Post-Processing Quickset Options.<br>
			(Y=luma, C=chroma, H=horizontal, V=vertical)</i><br>
			- 0 : DISABLE POST-PROCESSING<br>
			- 1 : DEBLOCK_Y_H<br>
			- 2 : DEBLOCK_Y_H, DEBLOCK_Y_V<br>
			- 3 : DEBLOCK_Y_H, DEBLOCK_Y_V, DEBLOCK_C_H<br>
			- 4 : DEBLOCK_Y_H, DEBLOCK_Y_V, DEBLOCK_C_H, DEBLOCK_C_V<br>
			- 5 : DEBLOCK_Y_H, DEBLOCK_Y_V, DEBLOCK_C_H, DEBLOCK_C_V, DERING_Y<br>
			- 6 : DEBLOCK_Y_H, DEBLOCK_Y_V, DEBLOCK_C_H, DEBLOCK_C_V, DERING_Y, DERING_C<br>
		</ul>
		<br>

		<b>iPP</b> : true/false  (default: auto)<br>
		<ul>
			<i>Field-Based Post-Processing.<br>
			DGDecode automatically uses the <b><i>PROGRESSIVE_FRAME</i></b> flag to switch between field/frame based
			post-processing on a <u>per-frame-basis</u>.<br>
			You should <u>only</u> specify the iPP 	parameter if you want to force DGDecode to use a particular
			post-processing mode.</i><br>
			- true  : force field-based (interlaced) post-processing<br>
			- false : force frame-based (progressive) post-processing<br>
		</ul>
		<br>

		<b>moderate_h</b>,<b> moderate_v</b> : 0 to 255  (default: moderate_h=20, moderate_v=40)<br>
		<ul>
			<i>Block Detection Sensitivity.<br>
			(moderate_h=horizontal, moderate_v=vertical)<br>
			Smaller values are stronger, use with care.</i><br>
		</ul>
		<br>

		<b>cpu2</b> : (default: "")<br>
		<ul>
			<i>Post-Processing Custom Options.<br>
			Specify a six character string of x's and o's according to list below. (case-insensitive)<br>
			Each "x" enables the corresponding post-processing feature.<br>
			Each "o" disables the corresponding post-processing feature.</i><br>
			<br>
			<code>
				1 : luma horizontal deblocking<br>
				2 : luma vertical deblocking<br>
				3 : chroma horizontal deblocking<br>
				4 : chroma vertical deblocking<br>
				5 : luma deringing<br>
				6 : chroma deringing<br>
			</code>
			<br>
			<br>
			To enable chroma-only post-processing use:<br>

			<pre id="precode">                                 123456</pre>

			<pre>MPEG2Source("project.d2v", cpu2="ooxxox")</pre>
			<br>
		</ul>

		<b>upConv</b> : true/false  (default: false)<br>
		<ul>
			<i>Upconvert to YUY2 (4:2:2) from YV12 (4:2:0) based on <b>PROGRESSIVE_FRAME</b> flag.<br>
			Ignored if the input is not YV12 (4:2:0)<br>
			Use <a href="#YV12toYUY2">YV12toYUY2()</a> to force a constant upsampling mode.</i><br>
			- true  : Upconvert based on <b><i>PROGRESSIVE_FRAME</i></b> flag<br>
			- false : Do not upconvert<br>
		</ul>
		<br>

		<b>i420</b> : true/false  (default: false)<br>
		<ul>
			<i>Output I420 Colorspace.<br>
			Possibly required by some legacy applications.<br>
			Ignored if the input is not YV12 (4:2:0), or if <b>upConv</b>=true.</i><br>
			- true  : Output I420<br>
			- false : Output YV12<br>
		</ul>
		<br>

		<b>info</b> : 0 to 3  (default: 0)<br>
		<ul>
			<i>Debug Information.</i><br>
			- 0 : Do not generate debug information<br>
			- 1 : Overlay debug information on the video<br>
			- 2 : Output debug information via OutputDebugString()<br>
			- 3 : Output hints in the video (as defined in utilities.cpp/utilities.h)<br>
		</ul>
		<br>

		<b>showQ</b> : true/false  (default: false)<br>
		<ul>
			<i>Show Macroblock Quantizers.</i><br>
			- true  : Show quantizers<br>
			- false : Do not show quantizers<br>
		</ul>
		<br>

		<b>fastMC</b> : true/false  (default: false)<br>
		<ul>
			<i>Vlad's Fast Motion Compensation.<br>
			Very small speedup, but with degraded accuracy.<br>
			For testing purposes, and will probably be removed in next version.<br>
			Requires SSE or 3DNow!, please see <a href="#AppendixD">Appendix D</a> for supported CPUs.</i><br>
		</ul>
		<br>

	</ul></ul>

	<a name="LumaFilter"></a><br>
	<h3>
		<table><tr>
			<td width="75%">LumaFilter() :</td>
			<td width="24%" align=right valign=top><a href="#Top">Table of Contents</a></td>
			<td width="1%"></td></tr>
		</table>
	</h3>

	<ul><ul>
		<code>
			LumaFilter(clip, integer "lumoff", float "lumgain")<br>
		</code>
		<br>
		<br>

		This function is unrelated to DGIndex's <i>Luminance Filter</i>.<br>
		The transformation is : <code>yy = (y * lumgain) + lumoff</code><br>
		<br>
		<b>lumoff</b> : -256 to 256  (default: -2)<br>
		<ul>
			<i>Luminosity Offset.<br>
			Adjust the luma of all pixels by a fixed amount.</i><br>
		</ul>
		<br>

		<b>lumgain</b> : -256.0 to 256.0  (default: 1.0)<br>
		<ul>
			<i>Luminosity Gain.<br>
			Adjust the luma of all pixels by a proportional amount.</i><br>
		</ul>
		<br>

	</ul></ul>

	<a name="YV12toYUY2"></a><br>
	<h3>
		<table><tr>
			<td width="75%">YV12toYUY2() :</td>
			<td width="24%" align=right valign=top><a href="#Top">Table of Contents</a></td>
			<td width="1%"></td></tr>
		</table>
	</h3>

	<ul><ul>
		<code>
			YV12toYUY2(clip, bool "interlaced")<br>
		</code>
		<br>
		<br>

		Requires YV12 input.<br>
		This colorspace conversion may cause problems, please use the <a href="http://www.avisynth.org/">AviSynth</a>
		colorspace conversion functions when possible.<br>
		Use the <b>upConv</b> parameter of <a href="#MPEG2Source">MPEG2Source()</a> to upsample based on the
		<b><i>PROGRESSIVE_FRAME</i></b> flag.<br>
		<br>
		<b>interlaced</b> : true/false (default: true)<br>
		<ul>
			- true  : field-based (interlaced) conversion<br>
			- false : frame-based (progressive) conversion<br>
		</ul>
		<br>

	</ul></ul>

	<a name="YV12toRGB24"></a><br>
	<h3>
		<table><tr>
			<td width="75%">YV12toRGB24() :</td>
			<td width="24%" align=right valign=top><a href="#Top">Table of Contents</a></td>
			<td width="1%"></td></tr>
		</table>
	</h3>

	<ul><ul>
		<code>
			YV12toRGB24(clip, bool "interlaced", bool "TVscale")<br>
		</code>
		<br>
		<br>

		Requires YV12 input.<br>
		This colorspace conversion may cause problems, please use the <a href="http://www.avisynth.org/">AviSynth</a>
		colorspace conversion functions	when possible.<br>
		<u>Note:</u> YV12->BGR24 conversion natively flips image, use the AviSynth filter <i>FlipVertical()</i> to
		restore image.<br>
		<br>
		<b>interlaced</b> : true/false  (default: true)<br>
		<ul>
			- true  : field-based (interlaced) conversion<br>
			- false : frame-based (progressive) conversion<br>
		</ul>
		<br>

		<b>TVscale</b> : true/false  (default: false)<br>
		<ul>
			<i>The same setting as in DGIndex.<br>
			Please see <a href="#AppendixB">Appendix B</a> for usage notes.</i><br>
			- true  : TVscale<br>
			- false : PCscale<br>
		</ul>
		<br>

	</ul></ul>

	<a name="BlindPP"></a><br>
	<h3>
		<table><tr>
			<td width="75%">BlindPP() :</td>
			<td width="24%" align=right valign=top><a href="#Top">Table of Contents</a></td>
			<td width="1%"></td></tr>
		</table>
	</h3>

	<ul><ul>
		<code>
			BlindPP(clip, int "quant", int "cpu", bool "iPP", int "moderate_h", int "moderate_v", str "cpu2")<br>
		</code>
		<br>
		<br>

		Deblock and/or Dering any DCT-encoded source.<br>
		Requires YUY2 or YV12 input.<br>
		Less accurate than the decoder-integrated post-processing.<br>
		Please see <a href="#AppendixA">Appendix A</a> for usage notes.<br>
		<br>

		<b>quant</b> : 0 to 31 (default: 2) <br>
		<ul>
			<i>Emulated Quantizer.<br>
			Specifies <u>strength</u> of the deblocking process.</i><br>
		</ul>
		<br>

		<b>cpu</b> : 0 to 6 (default: 6)<br>
		<ul>
			<i>Same function, but different default value, as in <a href="#MPEG2Source">MPEG2Source()</a>.</i><br>
		</ul>
		<br>

		<b>iPP</b> : true/false (default: false)<br>
		<ul>
			<i>Same function, but different default value, as in <a href="#MPEG2Source">MPEG2Source()</a>.<br>
			Automatic-mode is NOT available.</i><br>
		</ul>
		<br>

		<b>moderate_h, moderate_v, cpu2</b> : (defaults: moderate_h=20, moderate_v=40, cpu2="")<br>
		<ul>
			<i>Same functions, but different default values, as in <a href="#MPEG2Source">MPEG2Source()</a>.</i><br>
		</ul>
		<br>

	</ul></ul>

	<a name="Deblock"></a><br>
	<h3>
		<table><tr>
			<td width="75%">Deblock() :</td>
			<td width="24%" align=right valign=top><a href="#Top">Table of Contents</a></td>
			<td width="1%"></td></tr>
		</table>
	</h3>

	<ul><ul>
		<code>
		Deblock(clip, int "quant", int "aOffset", int "bOffset", bool "mmx", bool "isse")
		</code>
		<br>
		<br>

		Manao's H.264 Deblocking Filter. (v0.9.5)<br>
		Requires YV12 input.<br>
		Both (quant + aOffset) AND (quant + bOffset) must be >= 16 or the filter does nothing at all.<br>
		<br>

		<b>quant</b> : 0 to 51 (default: 25) <br>
		<ul>
			<i>Emulated Quantizer.<br>
			Specifies <u>strength</u> of the deblocking process.</i><br>
		</ul>
		<br>

		<b>aOffset</b> : (default: 0)<br>
		<ul>
			<i>Modifier to the blocking detector threshold.<br>
			Setting it higher means that more edges will be deblocked.</i><br>
		</ul>
		<br>

		<b>bOffset</b> : (default: 0)<br>
		<ul>
			<i>Modifier for block detecting and for deblocking strength.<br>
			There again, the higher, the stronger.</i><br>
		</ul>
		<br>

		<b>mmx</b> : true/false (default: true)<br>
		<ul>
			<i>Automatically disables if not supported by CPU.</i><br>
			- true  : Enable MMX optimizations<br>
			- false : Disable MMX optimizations<br>
		</ul>
		<br>

		<b>isse</b> : true/false (default: true)<br>
		<ul>
			<i>Automatically disables if not supported by CPU.<br>
			Please see <a href="#AppendixD">Appendix D</a> for supported CPUs.</i><br>
			- true  : Enable SSE optimizations<br>
			- false : Disable SSE optimizations<br>
		</ul>
		<br>

	</ul></ul>

<a name="Examples"></a><br>
<h2>
	<table><tr>
		<td width="75%">Usage Examples:</td>
		<td width="24%" align=right valign=top><a href="#Top">Table of Contents</a></td>
		<td width="1%"></td></tr>
	</table>
</h2>

	<a name="LoadPlugin_Example"></a><br>
	<h3>
		<table><tr>
			<td width="75%">AviSynth LoadPlugin() Example:</td>
			<td width="24%" align=right valign=top><a href="#Top">Table of Contents</a></td>
			<td width="1%"></td></tr>
		</table>
	</h3>

	<ul><ul>
		Before any DGDecode functions can be used, <a href="http://www.avisynth.org/">AviSynth</a> must load DGDecode.<br>
		To accomplish this, add the following line to the beginning of your AviSynth (*.avs) script:<br>
		<pre>LoadPlugin("[PATH\]DGDecode.dll")</pre>
		<u>Note:</u> PATH can be ignored if DGDecode.dll is in the default plug-in directory for AviSynth, otherwise PATH
		must be specified.<br>
		<br>
		<br>
	</ul></ul>

	<a name="MPEG2Source_Examples"></a><br>
	<h3>
		<table><tr>
			<td width="75%">MPEG2Source() Examples:</td>
			<td width="24%" align=right valign=top><a href="#Top">Table of Contents</a></td>
			<td width="1%"></td></tr>
		</table>
	</h3>

	<ul><ul>
		The following are just some examples of what can be done with <a href="#MPEG2Source">MPEG2Source()</a>.<br>
		<br>

		To do plain YV12 decoding:<br>
		<pre>MPEG2Source("[PATH\]project.d2v")</pre>
		<u>Note:</u> PATH can be ignored if "project.d2v" is in the same directory as your AviSynth (*.avs) script.<br>
		<br>

		To do deblocking only:<br>
		<pre>MPEG2Source("project.d2v", cpu=4)</pre>
		<br>

		To do deblocking on an interlaced source with increased vertical sensitivity:<br>
		<pre>MPEG2Source("project.d2v", cpu=4, iPP=true, moderate_v=20)</pre>
		<br>

		To do deringing only:<br>
		<pre>MPEG2Source("project.d2v", cpu2="ooooxx")</pre>
		<br>

		To select the optimized 32-bit SSE2 iDCT and also output I420 colorspace:<br>
		<pre>MPEG2Source("project.d2v", idct=5, i420=true)</pre>
		<br>

		To convert to YUY2 based on the <b><i>PROGRESSIVE_FRAME</i></b> flag:<br>
		<pre>MPEG2Source("project.d2v", upConv=true)</pre>
		<br>

		To do display onscreen information about the video:<br>
		<pre>MPEG2Source("project.d2v", info=1)</pre>
		<br>
		<br>
	</ul></ul>

	<a name="LumaFilter_Examples"></a><br>
	<h3>
		<table><tr>
			<td width="75%">LumaFilter() Examples:</td>
			<td width="24%" align=right valign=top><a href="#Top">Table of Contents</a></td>
			<td width="1%"></td></tr>
		</table>
	</h3>

	<ul><ul>
		The following <a href="#LumaFilter">LumaFilter()</a> examples are completely subjective, of course.<br>
		Adjust them to your liking.<br>
		<br>

		To darken luminosity:<br>
		<pre>MPEG2Source("project.d2v")<br>LumaFilter(lumoff=-10, lumgain=0.9)</pre>
		<br>

		To lighten luminosity:<br>
		<pre>MPEG2Source("project.d2v")<br>LumaFilter(lumoff=10, lumgain=1.1)</pre>
		<br>
		<br>
	</ul></ul>

	<a name="YV12toYUY2_Examples"></a><br>
	<h3>
		<table><tr>
			<td width="75%">YV12toYUY2() Examples:</td>
			<td width="24%" align=right valign=top><a href="#Top">Table of Contents</a></td>
			<td width="1%"></td></tr>
		</table>
	</h3>

	<ul><ul>
		<a href="#YV12toYUY2">YV12toYUY2()</a> may cause problems, please use the AviSynth colorspace conversion
		functions when possible.<br>
		Use the <b>upConv</b> parameter of <a href="#MPEG2Source">MPEG2Source()</a> to upsample based on the
		<b><i>PROGRESSIVE_FRAME</i></b> flag.<br>
		<br>

		To convert to YUY2 from an interlaced source:<br>
		<pre>MPEG2Source("project.d2v")<br>YV12toYUY2()</pre>
		<br>

		To convert to YUY2 from a progressive source:<br>
		<pre>MPEG2Source("project.d2v")<br>YV12toYUY2(interlaced=false)</pre>
		<br>
		<br>
	</ul></ul>

	<a name="YV12toRGB24_Examples"></a><br>
	<h3>
		<table><tr>
			<td width="75%">YV12toRGB24() Examples:</td>
			<td width="24%" align=right valign=top><a href="#Top">Table of Contents</a></td>
			<td width="1%"></td></tr>
		</table>
	</h3>

	<ul><ul>
		<a href="#YV12toRGB24">YV12toRGB24()</a> may cause problems, please use the AviSynth colorspace conversion
		functions when possible.<br>
		<u>Note:</u> YV12->BGR24 conversion natively flips image, use the AviSynth filter <i>FlipVertical()</i> to
		restore image.<br>
		<br>

		To convert to RGB24 from an interlaced source:<br>
		<pre>MPEG2Source("project.d2v")<br>YV12toRGB24()<br>FlipVertical() #YV12->BGR24 conversion natively flips image.</pre>
		<br>

		To convert to RGB24 from a progressive source:<br>
		<pre>MPEG2Source("project.d2v")<br>YV12toRGB24(interlaced=false)<br>FlipVertical() #YV12->BGR24 conversion natively flips image.</pre>
		<br>

		To convert to RGB24 from an progressive source and clamp output to TVscale:<br>
		<pre>MPEG2Source("project.d2v")<br>YV12toRGB24(interlaced=false, TVscale=true)<br>FlipVertical() #YV12->BGR24 conversion natively flips image.</pre>
		<br>
		<br>
	</ul></ul>

	<a name="BlindPP_Examples"></a><br>
	<h3>
		<table><tr>
			<td width="75%">BlindPP() Examples:</td>
			<td width="24%" align=right valign=top><a href="#Top">Table of Contents</a></td>
			<td width="1%"></td></tr>
		</table>
	</h3>

	<ul><ul>
		<a href="#BlindPP">BlindPP()</a> is used with non-MPEG2 video sources.<br>
		Typically this means AVISource or DirectShowSource is used to open the video.<br>
		<br>

		To do default deblocking and deringing:<br>
		<pre>AVISource("my_video.avi")<br>BlindPP()</pre>
		<br>

		To do deblocking only:<br>
		<pre>AVISource("my_video.avi")<br>BlindPP(cpu=4)</pre>
		<br>

		To do deblocking on an interlaced source with increased horizontal sensitivity:<br>
		<pre>AVISource("my_video.avi")<br>BlindPP(cpu=4, iPP=true, moderate_h=10)</pre>
		<br>

		To do stronger deblocking and deringing:<br>
		<pre>DirectShowSource("my_video.mpg")<br>BlindPP(quant=12)</pre>
		<br>

		To do deringing only:<br>
		<pre>DirectShowSource("my_video.mpg")<br>BlindPP(cpu2="ooooxx")</pre>
		<br>
		<br>
	</ul></ul>

	<a name="Deblock_Examples"></a><br>
	<h3>
		<table><tr>
			<td width="75%">Deblock() Examples:</td>
			<td width="24%" align=right valign=top><a href="#Top">Table of Contents</a></td>
			<td width="1%"></td></tr>
		</table>
	</h3>

	<ul><ul>
		<a href="#Deblock">Deblock()</a> is used with non-MPEG2 video sources.<br>
		Typically this means AVISource or DirectShowSource is used to open the video.<br>
		<br>

		To do default deblocking:<br>
		<pre>AVISource("my_video.avi")<br>Deblock()</pre>
		<br>

		To do strong deblocking with increased sensitivity:<br>
		<pre>DirectShowSource("my_video.mpg")<br>Deblock(quant=32, aOffset=16, bOffset=24)</pre>
		<br>
	</ul></ul>

<a name="AppendixA"></a><br>
<h2>
	<table><tr>
		<td width="75%">APPENDIX A: BlindPP() Notes</td>
		<td width="24%" align=right valign=top><a href="#Top">Table of Contents</a></td>
		<td width="1%"></td></tr>
	</table>
</h2>

<ul id="justify">
	<p>Blocks result from the 8x8-pixel DCT used by the MPEG2 encoder. So first off, you must be sure that the blocks that
	you want to deblock are still aligned at 8-pixel boundaries. That means no cropping and no resizing before you apply
	<i><a href="#BlindPP">BlindPP()</a></i>. If your source is encoded interlaced, set <b>iPP</b>=true, if it's progressive
	then the default is already correct (<b>iPP</b>=false).</p>

	<p>The parameters are: <b>quant</b>, <b>cpu2</b>, <b>moderate_h</b>, and <b>moderate_v</b>.</p>

	<p><b>quant</b> specifies the overall <u>strength</u> at which the deblocking process is to perform.</p>

	<p>Set <b>cpu2</b> to "xxxxoo" for horizontal and vertical deblocking on luma and chroma, to "xooxoo" for horizontal
	luma and vertical chroma deblocking, etc. You get the idea.</p>

	<p><b>moderate_h</b> and <b>moderate_v</b> specify the horizontal and vertical sensitivities, that is, <u>where</u> to
	perform deblocking, and where not to. They control the sensitivity for recognizing that a block is present.</p>

	<p><b>quant</b>=2, <b>moderate_h</b>=35-45, <b>moderate_v</b>=45-55 will give you a very gentle softening on strong,
	clearly visible blocks only. It will retain very much detail and sharpness, but will also leave intact weaker blocks,
	and not totally kill stronger ones.</p>

	<p><b>quant</b>=16, <b>moderate_h</b>=15-20, <b>moderate_v</b>=20-30 will perform rather strong deblocking on almost
	anything that perhaps could be a block, but will also smooth away a lot of detail and sharpness.</p>

	<p>The rest is up to you, your taste, and your source material.</p>

	<p>One other example... Since the excellent denoiser <i>PixieDust()</i> may sometimes cause blocking by itself in moving
	areas, I sometimes do this:</p>

	<pre>PixieDust(2).BlindPP(quant=8, cpu2="xxxxoo", moderate_h=45, moderate_v=55)</pre>

	<p>This takes away a good amount of the most visible blocking, if and only if <i>PixieDust()</i> has produced some. On
	the remaining 99.8% where <i>PixieDust()</i> didn't block, this will do almost nothing, as desired.</p>
</ul>

<a name="AppendixB"></a><br>
<h2>
	<table><tr>
		<td width="75%">APPENDIX B: TVscale Notes</td>
		<td width="24%" align=right valign=top><a href="#Top">Table of Contents</a></td>
		<td width="1%"></td></tr>
	</table>
</h2>

<ul>
	<code>
		PC Scale: YUV [16,235(Y)/240(UV)] -> RGB [0, 255]<br>
		TV Scale: YUV [16,235(Y)/240(UV)] -> RGB [16, 235]
	</code>

	<p>Only use <b>TV Scale</b> if you are using either:</p>
	<ul>
		<p>TMPGEnc with the <i><b>Output YUV Data As Basic YCbCr Not CCIR601</b></i> option checked (it's
		<u>unchecked</u> by default)</p>
		<p>or</p>
		<p>CCE with the <i><b>Luminance Level 0 To 255</b></i> option provided you are feeding it RGB.</p>
	</ul>
	<p>Otherwise, always use <b>PC Scale</b>.</p>
</ul>

<a name="AppendixC"></a><br>
<h2>
	<table><tr>
		<td width="75%">APPENDIX C: iDCT Algorithm Notes</td>
		<td width="24%" align=right valign=top><a href="#Top">Table of Contents</a></td>
		<td width="1%"></td></tr>
	</table>
</h2>

<ul id="justify">
	<p>The FlaskMpeg readme file contains an excellent technical description of iDCTs. It states:</p>

	<ul id="quote">
		<p>"The video information inside MPEG files is stored in the frequency domain rather than in the
		spatial domain (the images we see). That way, the information gets compacted and that compaction can
		be used to compress (reduce) the amount of information you have to send over the transmission channel.
		MPEG uses the DCT (Discrete Cosine Transform) to translate spatial information into frequency information.
		To bring back the spatial information from the MPEG stream you have to apply the iDCT, that is, the
		Inverse Discrete Cosine Transform, that undoes the DCT that was used during encoding."</p>

		<p>"Although MPEG is almost deterministic (given a MPEG stream the output should be identical in all
		decoders), the standard has a degree of freedom when choosing the iDCT to use. That way, the decoder
		can be more easily implemented depending on the hardware below it. What the standard requires from the
		decoder is that the iDCT meets IEEE-1180 specs, or in plain words, that the error from the iDCT doesn't
		go beyond that the ones pointed out in the IEEE-1180."</p>
	</ul>

	<p>Which iDCT you should use depends primarily on what CPU you have and to a lesser degree, on how accurate of an iDCT
	you desire. Most people will not be able to tell the difference in quality between these algorithms but they can be easily
	observed by combining the <a href="http://www.avisynth.org/">AviSynth</a> filters <i>Subtract</i> and <i>Levels</i>. All
	of the available options are IEEE-1180 compliant, except for <b>SSE/MMX (Skal)</b>.</p>

	<p>Qualitywise: <b>IEEE-1180 Reference</b> > <b>64-bit Floating Point</b> > <b>Simple MMX (XviD)</b> > Remaining iDCTs.</p>

	<p>Speedwise: <b>SSE2/MMX</b> and <b>SSE/MMX (Skal)</b> are usually the fastest. The <b>IEEE-1180 Reference</b> is easily
	the slowest.</p>
</ul>

<a name="AppendixD"></a><br>
<h2>
	<table><tr>
		<td width="75%">APPENDIX D: SIMD Instructions</td>
		<td width="24%" align=right valign=top><a href="#Top">Table of Contents</a></td>
		<td width="1%"></td></tr>
	</table>
</h2>

<ul id="justify">
	<p>SIMD is an acronym for <i>Single Instruction, Multiple Data</i>. It is a term that refers to a set of operations for
	efficiently handling large quantities of data in parallel. This is especially productive for applications in which video
	or audio files are processed. What usually required a repeated succession of instructions can now be performed in one
	instruction.</p>

	<p>There are seven different sets of SIMD instructions available to Intel and AMD processors, but not every CPU supports
	all of these advanced instruction sets. This is why many of DGDecode's functions provide options for specifying which
	set of optimizations to use.  The table below lists the SIMD instructions supported by DGDecode, and the processors
	required utilize them.</p>
</ul>

<ul>
	<ul>
		<table border="1px" cellspacing="3px" cellpadding="10%">
			<tr>
				<th></th>
				<th>MMX</th>
				<th>3DNow!</th>
				<th>SSE</th>
				<th>SSE2</th></tr>
			<tr>
				<td><b>Required Intel CPUs</b></td>
				<td>All Intel CPUs</td>
				<td>Unsupported by Intel CPUs</td>
				<td>Pentium 3, Pentium 4</td>
				<td>Pentium 4</td></tr>
			<tr>
				<td><b>Required AMD CPUs</b></td>
				<td>All AMD CPUs</td>
				<td>All AMD CPUs</td>
				<td>Athlon XP, Athlon 64</td>
				<td>Athlon 64</td></tr>
		</table>
	</ul>
</ul>
<br>

<a name="History"></a><br>
<h2>
	<table><tr>
		<td width="75%">Version History:</td>
		<td width="24%" align=right valign=top><a href="#Top">Table of Contents</a></td>
		<td width="1%"></td></tr>
	</table>
</h2>

<ul>
	<br>
	<b>based on MPEG2Dec2 (save-oe CVS 28.09.2002), recast as MPEG2Dec3 by MarcFD</b><br>
	<br>
	<u>betas versions (1 to 6) - MarcFD</u><br>
	<ul>
		- Added Nic's post-processing with Field-Based PP.<br>
		- Overrided iDCT / luma filtering choice.<br>
		- Fixed Luma filtering MMX code (3 bugs at least).<br>
		- YV12->YUY2 Conversion optimized (+10 % speed).<br>
		- a PP bug fixed. a bit slower now.<br>
		- trbarry's SSE2 optimization disabled.<br>
		- Added showQ debugging trigger.<br>
		- Added Vlad's new MC (3DNow!/SSE/MMX) / re-wrote SSE/MMX code.<br>
		- Added working MMX memory transfer for seeking (+3% speed).<br>
		- Added Interlaced Upsampling support.<br>
	</ul>
	<br>
	<u>v 0.9 (09.11.02) - MarcFD</u>
	<ul>
		- heavy code cleaning.<br>
		- redesigned the whole AviSynth interface.<br>
		- YV12 support.<br>
		- RGB24 support.<br>
		- other misc stuff.<br>
	</ul>
	<br>
	<u>v 0.91 (10.11.02) - MarcFD</u>
	<ul>
		- cleaned a bit more of the source.<br>
		- added DGDecode.def default settings loading (like don's filters).<br>
		- bff mode in SeparateFieldsYV12.<br>
	</ul>
	<br>
	<u>v 0.92 (17.11.02) - MarcFD</u>
	<ul>
		- code released.<br>
		- BlindPP implemented.<br>
	</ul>
	<br>
	<u>v 0.93 (25.11.02) - MarcFD</u>
	<ul>
		- total YV12 code conversion...<br>
		- ...who fixed YV12 bugs?<br>
		- less memory is needed.<br>
		- fast MMX copy (faster seeking).<br>
	</ul>
	<br>
	<u>v 0.94 (08.12.02) - MarcFD</u>
	<ul>
		- very little bugfix.<br>
	</ul>
	<br>
	<u>v 1.00 (19.01.03) - MarcFD</u>
	<ul>
		- final version.<br>
		- i squashed all bugs i were aware of.<br>
	</ul>
	<br>
	<u>v 1.01 (unknown) - trbarry</u>
	<ul>
		- Fixed HDTV bug (0x21 PID hardcoded).<br>
	</ul>
	<br>
	<u>v 1.02 (12.05.03) - Nic</u>
	<ul>
		- aligned malloc done differently.<br>
	</ul>
	<br>
	<u>v 1.03 (12.05.03) - Nic</u>
	<ul>
		- Now supports both DVD2AVI 1.77.3 D2V Files and 1.76 ones.<br>
	</ul>
	<br>
	<u>v 1.04 (12.05.03) - Nic</u>
	<ul>
		- Removed another memory leak, slightly quicker.<br>
	</ul>
	<br>
	<u>v 1.05a (12.05.03) - trbarry</u>
	<ul>
		- trbarry test version for optimizations.<br>
	</ul>
	<br>
	<u>v 1.06 (24.05.03)</u>
	<ul>
		- Nic: Added 2 new iDCT's Skal's (fastest!, idct=6) & SimpleiDCT (very accurate, idct=7).<br>
		- Nic: Support for external use of DGDecode.dll without AviSynth added back in. (See Source code for example.zip and GetPic example).<br>
		- trbarry: Added new Add_Block optimizations as well as optimized Block Decoding for SSE2 machines.<br>
		- sh0dan: Uses AviSynth's fast BitBlt for mem copys where possible.<br>
		- Nic: General optimizations :) Faster now on all machines tested.<br>
	</ul>
	<br>
	<u>v 1.07 (6.06.03)</u>
	<ul>
		- Nic & Sh0dan: Bug Fixes, better stability on broken streams.<br>
	</ul>
	<br>
	<u>v 1.08 (8.06.03)</u>
	<ul>
		- trbarry: Optimized Simple_iDCT, lots faster now. :)<br>
		- Nic: added CPUCheck elsewhere.<br>
		- Nic: forgot to fix LumaFilter last time (Thanx ARDA!).<br>
		- Nic: robUx4 helped me make simple_idct into a fastcall.<br>
	</ul>
	<br>
	<u>v 1.09 (26.07.03)</u>
	<ul>
		- Nic: Now Skal's Sparse iDCT is used instead for idct=6.<br>
		- Nic: Added the Luminance_Filter from DVD2AVI 1.77.3, for when Luminance_Filter is used in the .d2v.<br>
	</ul>
	<br>
	<u>v 1.10 (28.07.03)</u>
	<ul>
		- Nic: Damn! There was a problem with the Luminance filter and 1.77.3 D2V files. Fixed!<br>
	</ul>
	<br>
	<b>Recast MPEG2Dec3 as DGDecode</b><br>
	<br>
	<u>v 1.0.13 (8.06.04)</u>
	<ul>
		- DG: Fixed DGDecode to not truncate B frames prior to the first P frame.<br>
		- DG: Fixed to not unconditionally reduce the frame count by two.<br>
		- DG: Rewrote the decoding and random access code to work correctly with the D2V files generated by the fixed DGIndex.<br>
		- DG: Fixed DGDecode so that it (hopefully) no longer crashes VirtualDub on exit when the last frame is incomplete.<br>
		- DG: Fixed the IDCT selection to not be global in DGDecode.<br>
	</ul>
	<br>
	<u>v 1.1.0 (21.01.05)</u>
	<ul>
		- DG: Added workaround for crashes due to corrupted files.<br>
		- DG: Added fix for files that change quantizer matrices on the fly.<br>
		- tritical: Fixed the DC mode decision of post-process deblocking.<br>
		- tritical: Added "info" option to mpeg2source() to display info on frames.<br>
		- tritical: iPP now defaults to "auto". "auto" uses the <b><i>PROGRESSIVE_FRAME</i></b> flag to switches between field/frame based post-processing.<br>
		- tritical: Added 4:2:2 input support.<br>
		- tritical: Added "upConv" option to mpeg2source() to upsample to 4:2:2 from 4:2:0 based on <b><i>PROGRESSIVE_FRAME</i></b> flag.<br>
		- tritical: BlindPP now supports YUY2 colorspace.<br>
		- tritical: Fixed BlindPP case syntax bug. (x vs X)<br>
		- tritical: Fixed a small bug with showQ option.<br>
		- tritical: Fixed small memory leak with FrameList/GOPList not being free'd.<br>
		- tritical: Fixed a bug in the vertical chroma deblocking post-processing QP pointer being passed was incorrect for 4:2:0.<br>
		- tritical: Faster MMX 4:2:2 to packed YUY2 and YUY2 to planar 4:2:2 conversions.<br>
		- tritical: Fixed: "info" output would not work correctly if temporal_reference was not zero based at the beginning of gops.<br>
	</ul>
	<br>
	<u>v 1.2.0 (17.02.05)</u>
	<ul>
		- DG: Revised "info" parameter.<br>
		- DG: Fixed bug in the deringing post-processing.<br>
		- DG: Fixed crashing problem with BlindPP() for YUY2 input.<br>
	</ul>
	<br>
	<u>v 1.2.1 (22.02.05)</u>
	<ul>
		- DG: Fixed crashing bug in BlindPP().<br>
		- DG: Fixed incorrect post-processing for YUY2.<br>
		- DG: Changed DGDecode to deliver YV12 by default.<br>
		- DG: Added i420 parameter to DGDecode.<br>
		- Manao: Added Deblock() blind H.264 deblocking filter.<br>
	</ul>
	<br>
	<u>v 1.3.0 (15.05.01)</u>
	<ul>
		- DG: Added exception handling so that DGDecode doesn't crash on an incomplete picture.<br>
                - DG: Changed VFAPI upsampling method ("_P" before extension of D2V filename forces progressive upsampling; otherwise interlaced is used).
	</ul>
	<br>
</ul>

<a name="Credits"></a><br>
<h2>
	<table><tr>
		<td width="75%">Credits:</td>
		<td width="24%" align=right valign=top><a href="#Top">Table of Contents</a></td>
		<td width="1%"></td></tr>
	</table>
</h2>

<ul>
	<br>
	Mathias Born, author of MPEG2Dec<br>
	Donald Graft ("neuron2"), frame loss fix, accurate indexing, PVA support, and more<br>
	Peter Gubanov, author of the MMX/SSEMMX iDCT<br>
	Chia-chen Kuo, author of DVD2AVI<br>
	"MarcFD", YV12 support and more<br>
	"Nic", post-processing and more<br>
	Miha Peternel, author of the Floating Point and Reference iDCT<br>
	Dmitry Rozhdestvensky, author of the SSE2 iDCT<br>
	"sh0dan", code optimizations<br>
	"Skal", for his SSEMMX iDCT<br>
	"trbarry", transport parsing, and code optimizations<br>
	"tritical", upsampling, info overlay, and lots of bug fixes<br>
	"Manao", for his Deblock() filter<br>
	"Didée", for Appendix A: Notes on BlindPP() Usage<br>
	"Cyberia", for Appendices B, C & D, users manual modernization<br>
</ul>
<br>

<a name="License"></a><br>
<h2>
	<table><tr>
		<td width="75%">License:</td>
		<td width="24%" align=right valign=top><a href="#Top">Table of Contents</a></td>
		<td width="1%"></td></tr>
	</table>
</h2>

<ul>
	<br>
	<pre>
			     GNU GENERAL PUBLIC LICENSE
				Version 2, June 1991

	 Copyright (C) 1989, 1991 Free Software Foundation, Inc.
				  675 Mass Ave, Cambridge, MA 02139, USA
	 Everyone is permitted to copy and distribute verbatim copies
	 of this license document, but changing it is not allowed.

				    Preamble

	  The licenses for most software are designed to take away your
	freedom to share and change it.  By contrast, the GNU General Public
	License is intended to guarantee your freedom to share and change free
	software--to make sure the software is free for all its users.  This
	General Public License applies to most of the Free Software
	Foundation's software and to any other program whose authors commit to
	using it.  (Some other Free Software Foundation software is covered by
	the GNU Library General Public License instead.)  You can apply it to
	your programs, too.

	  When we speak of free software, we are referring to freedom, not
	price.  Our General Public Licenses are designed to make sure that you
	have the freedom to distribute copies of free software (and charge for
	this service if you wish), that you receive source code or can get it
	if you want it, that you can change the software or use pieces of it
	in new free programs; and that you know you can do these things.

	  To protect your rights, we need to make restrictions that forbid
	anyone to deny you these rights or to ask you to surrender the rights.
	These restrictions translate to certain responsibilities for you if you
	distribute copies of the software, or if you modify it.

	  For example, if you distribute copies of such a program, whether
	gratis or for a fee, you must give the recipients all the rights that
	you have.  You must make sure that they, too, receive or can get the
	source code.  And you must show them these terms so they know their
	rights.

	  We protect your rights with two steps: (1) copyright the software, and
	(2) offer you this license which gives you legal permission to copy,
	distribute and/or modify the software.

	  Also, for each author's protection and ours, we want to make certain
	that everyone understands that there is no warranty for this free
	software.  If the software is modified by someone else and passed on, we
	want its recipients to know that what they have is not the original, so
	that any problems introduced by others will not reflect on the original
	authors' reputations.

	  Finally, any free program is threatened constantly by software
	patents.  We wish to avoid the danger that redistributors of a free
	program will individually obtain patent licenses, in effect making the
	program proprietary.  To prevent this, we have made it clear that any
	patent must be licensed for everyone's free use or not licensed at all.

	  The precise terms and conditions for copying, distribution and
	modification follow.

			    GNU GENERAL PUBLIC LICENSE
	   TERMS AND CONDITIONS FOR COPYING, DISTRIBUTION AND MODIFICATION

	  0. This License applies to any program or other work which contains
	a notice placed by the copyright holder saying it may be distributed
	under the terms of this General Public License.  The "Program", below,
	refers to any such program or work, and a "work based on the Program"
	means either the Program or any derivative work under copyright law:
	that is to say, a work containing the Program or a portion of it,
	either verbatim or with modifications and/or translated into another
	language.  (Hereinafter, translation is included without limitation in
	the term "modification".)  Each licensee is addressed as "you".

	Activities other than copying, distribution and modification are not
	covered by this License; they are outside its scope.  The act of
	running the Program is not restricted, and the output from the Program
	is covered only if its contents constitute a work based on the
	Program (independent of having been made by running the Program).
	Whether that is true depends on what the Program does.

	  1. You may copy and distribute verbatim copies of the Program's
	source code as you receive it, in any medium, provided that you
	conspicuously and appropriately publish on each copy an appropriate
	copyright notice and disclaimer of warranty; keep intact all the
	notices that refer to this License and to the absence of any warranty;
	and give any other recipients of the Program a copy of this License
	along with the Program.

	You may charge a fee for the physical act of transferring a copy, and
	you may at your option offer warranty protection in exchange for a fee.

	  2. You may modify your copy or copies of the Program or any portion
	of it, thus forming a work based on the Program, and copy and
	distribute such modifications or work under the terms of Section 1
	above, provided that you also meet all of these conditions:

	    a) You must cause the modified files to carry prominent notices
	    stating that you changed the files and the date of any change.

	    b) You must cause any work that you distribute or publish, that in
	    whole or in part contains or is derived from the Program or any
	    part thereof, to be licensed as a whole at no charge to all third
	    parties under the terms of this License.

	    c) If the modified program normally reads commands interactively
	    when run, you must cause it, when started running for such
	    interactive use in the most ordinary way, to print or display an
	    announcement including an appropriate copyright notice and a
	    notice that there is no warranty (or else, saying that you provide
	    a warranty) and that users may redistribute the program under
	    these conditions, and telling the user how to view a copy of this
	    License.  (Exception: if the Program itself is interactive but
	    does not normally print such an announcement, your work based on
	    the Program is not required to print an announcement.)

	These requirements apply to the modified work as a whole.  If
	identifiable sections of that work are not derived from the Program,
	and can be reasonably considered independent and separate works in
	themselves, then this License, and its terms, do not apply to those
	sections when you distribute them as separate works.  But when you
	distribute the same sections as part of a whole which is a work based
	on the Program, the distribution of the whole must be on the terms of
	this License, whose permissions for other licensees extend to the
	entire whole, and thus to each and every part regardless of who wrote it.

	Thus, it is not the intent of this section to claim rights or contest
	your rights to work written entirely by you; rather, the intent is to
	exercise the right to control the distribution of derivative or
	collective works based on the Program.

	In addition, mere aggregation of another work not based on the Program
	with the Program (or with a work based on the Program) on a volume of
	a storage or distribution medium does not bring the other work under
	the scope of this License.

	  3. You may copy and distribute the Program (or a work based on it,
	under Section 2) in object code or executable form under the terms of
	Sections 1 and 2 above provided that you also do one of the following:

	    a) Accompany it with the complete corresponding machine-readable
	    source code, which must be distributed under the terms of Sections
	    1 and 2 above on a medium customarily used for software interchange; or,

	    b) Accompany it with a written offer, valid for at least three
	    years, to give any third party, for a charge no more than your
	    cost of physically performing source distribution, a complete
	    machine-readable copy of the corresponding source code, to be
	    distributed under the terms of Sections 1 and 2 above on a medium
	    customarily used for software interchange; or,

	    c) Accompany it with the information you received as to the offer
	    to distribute corresponding source code.  (This alternative is
	    allowed only for noncommercial distribution and only if you
	    received the program in object code or executable form with such
	    an offer, in accord with Subsection b above.)

	The source code for a work means the preferred form of the work for
	making modifications to it.  For an executable work, complete source
	code means all the source code for all modules it contains, plus any
	associated interface definition files, plus the scripts used to
	control compilation and installation of the executable.  However, as a
	special exception, the source code distributed need not include
	anything that is normally distributed (in either source or binary
	form) with the major components (compiler, kernel, and so on) of the
	operating system on which the executable runs, unless that component
	itself accompanies the executable.

	If distribution of executable or object code is made by offering
	access to copy from a designated place, then offering equivalent
	access to copy the source code from the same place counts as
	distribution of the source code, even though third parties are not
	compelled to copy the source along with the object code.

	  4. You may not copy, modify, sublicense, or distribute the Program
	except as expressly provided under this License.  Any attempt
	otherwise to copy, modify, sublicense or distribute the Program is
	void, and will automatically terminate your rights under this License.
	However, parties who have received copies, or rights, from you under
	this License will not have their licenses terminated so long as such
	parties remain in full compliance.

	  5. You are not required to accept this License, since you have not
	signed it.  However, nothing else grants you permission to modify or
	distribute the Program or its derivative works.  These actions are
	prohibited by law if you do not accept this License.  Therefore, by
	modifying or distributing the Program (or any work based on the
	Program), you indicate your acceptance of this License to do so, and
	all its terms and conditions for copying, distributing or modifying
	the Program or works based on it.

	  6. Each time you redistribute the Program (or any work based on the
	Program), the recipient automatically receives a license from the
	original licensor to copy, distribute or modify the Program subject to
	these terms and conditions.  You may not impose any further
	restrictions on the recipients' exercise of the rights granted herein.
	You are not responsible for enforcing compliance by third parties to
	this License.

	  7. If, as a consequence of a court judgment or allegation of patent
	infringement or for any other reason (not limited to patent issues),
	conditions are imposed on you (whether by court order, agreement or
	otherwise) that contradict the conditions of this License, they do not
	excuse you from the conditions of this License.  If you cannot
	distribute so as to satisfy simultaneously your obligations under this
	License and any other pertinent obligations, then as a consequence you
	may not distribute the Program at all.  For example, if a patent
	license would not permit royalty-free redistribution of the Program by
	all those who receive copies directly or indirectly through you, then
	the only way you could satisfy both it and this License would be to
	refrain entirely from distribution of the Program.

	If any portion of this section is held invalid or unenforceable under
	any particular circumstance, the balance of the section is intended to
	apply and the section as a whole is intended to apply in other
	circumstances.

	It is not the purpose of this section to induce you to infringe any
	patents or other property right claims or to contest validity of any
	such claims; this section has the sole purpose of protecting the
	integrity of the free software distribution system, which is
	implemented by public license practices.  Many people have made
	generous contributions to the wide range of software distributed
	through that system in reliance on consistent application of that
	system; it is up to the author/donor to decide if he or she is willing
	to distribute software through any other system and a licensee cannot
	impose that choice.

	This section is intended to make thoroughly clear what is believed to
	be a consequence of the rest of this License.

	  8. If the distribution and/or use of the Program is restricted in
	certain countries either by patents or by copyrighted interfaces, the
	original copyright holder who places the Program under this License
	may add an explicit geographical distribution limitation excluding
	those countries, so that distribution is permitted only in or among
	countries not thus excluded.  In such case, this License incorporates
	the limitation as if written in the body of this License.

	  9. The Free Software Foundation may publish revised and/or new versions
	of the General Public License from time to time.  Such new versions will
	be similar in spirit to the present version, but may differ in detail to
	address new problems or concerns.

	Each version is given a distinguishing version number.  If the Program
	specifies a version number of this License which applies to it and "any
	later version", you have the option of following the terms and conditions
	either of that version or of any later version published by the Free
	Software Foundation.  If the Program does not specify a version number of
	this License, you may choose any version ever published by the Free Software
	Foundation.

	  10. If you wish to incorporate parts of the Program into other free
	programs whose distribution conditions are different, write to the author
	to ask for permission.  For software which is copyrighted by the Free
	Software Foundation, write to the Free Software Foundation; we sometimes
	make exceptions for this.  Our decision will be guided by the two goals
	of preserving the free status of all derivatives of our free software and
	of promoting the sharing and reuse of software generally.

					NO WARRANTY

	  11. BECAUSE THE PROGRAM IS LICENSED FREE OF CHARGE, THERE IS NO WARRANTY
	FOR THE PROGRAM, TO THE EXTENT PERMITTED BY APPLICABLE LAW.  EXCEPT WHEN
	OTHERWISE STATED IN WRITING THE COPYRIGHT HOLDERS AND/OR OTHER PARTIES
	PROVIDE THE PROGRAM "AS IS" WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESSED
	OR IMPLIED, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF
	MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE.  THE ENTIRE RISK AS
	TO THE QUALITY AND PERFORMANCE OF THE PROGRAM IS WITH YOU.  SHOULD THE
	PROGRAM PROVE DEFECTIVE, YOU ASSUME THE COST OF ALL NECESSARY SERVICING,
	REPAIR OR CORRECTION.

	  12. IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW OR AGREED TO IN WRITING
	WILL ANY COPYRIGHT HOLDER, OR ANY OTHER PARTY WHO MAY MODIFY AND/OR
	REDISTRIBUTE THE PROGRAM AS PERMITTED ABOVE, BE LIABLE TO YOU FOR DAMAGES,
	INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING
	OUT OF THE USE OR INABILITY TO USE THE PROGRAM (INCLUDING BUT NOT LIMITED
	TO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY
	YOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER
	PROGRAMS), EVEN IF SUCH HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE
	POSSIBILITY OF SUCH DAMAGES.

				END OF TERMS AND CONDITIONS

		Appendix: How to Apply These Terms to Your New Programs

	  If you develop a new program, and you want it to be of the greatest
	possible use to the public, the best way to achieve this is to make it
	free software which everyone can redistribute and change under these terms.

	  To do so, attach the following notices to the program.  It is safest
	to attach them to the start of each source file to most effectively
	convey the exclusion of warranty; and each file should have at least
	the "copyright" line and a pointer to where the full notice is found.

	    , 1 April 1989
	  Ty Coon, President of Vice

	This General Public License does not permit incorporating your program into
	proprietary programs.  If your program is a subroutine library, you may
	consider it more useful to permit linking proprietary applications with the
	library.  If this is what you want to do, use the GNU Library General
	Public License instead of this License.
	</pre>
</ul>
<br>

<hr>
<br>
Copyright (C) 2004, 2005 Donald A. Graft, All Rights Reserved.<br>
</body>
</html>
